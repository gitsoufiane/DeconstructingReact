{"mappings":"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","sources":["index.tsx"],"sourcesContent":["const React = {\r\n  createElement: (tag, props, ...children) => {\r\n    if (typeof tag === \"function\") {\r\n      try {\r\n        return tag(props);\r\n      } catch ({ promise, key }) {\r\n        promise.then((data) => {\r\n          promiseCache.set(key, data);\r\n          rerender();\r\n        });\r\n        return { tag: \"div\", props: { children: [\"I am loading\"] } };\r\n      }\r\n    }\r\n    const element = { tag, props: { ...props, children } };\r\n    return element;\r\n  },\r\n};\r\n\r\nconst states = [];\r\nlet stateCursor = 0;\r\n\r\nconst useState = (initialState) => {\r\n  const frozenCursor = stateCursor;\r\n  states[frozenCursor] = states[frozenCursor] || initialState;\r\n  const setState = (newState) => {\r\n    states[frozenCursor] = newState;\r\n    rerender();\r\n  };\r\n  stateCursor++;\r\n  return [states[frozenCursor], setState];\r\n};\r\n\r\nconst promiseCache = new Map();\r\nconst createResource = (promise, key) => {\r\n  console.log(promiseCache, promise, key);\r\n  if (promiseCache.has(key)) {\r\n    return promiseCache.get(key);\r\n  }\r\n  throw { promise: promise, key };\r\n};\r\nconst App = () => {\r\n  const [name, setName] = useState(\"soufiane\");\r\n  const [count, setCount] = useState(0);\r\n  const dogPhotoUrl = createResource(\r\n    fetch(`https://dog.ceo/api/breed/images/random`)\r\n      .then((response) => response.json())\r\n      .then((data) => data.message),\r\n    \"key\"\r\n  );\r\n  return (\r\n    <div className='class'>\r\n      <h1>title {name}</h1>\r\n      <input type='text' placeholder='name' value={name} onchange={(e) => setName(e.target.value)} />\r\n      <p> nostrum? Provident tenetur eveniet aut doloremque ducimus.</p>\r\n      <h3>Count {count}</h3>\r\n      <button onclick={() => setCount(count + 1)}>increment</button>\r\n      <button onclick={() => setCount(count - 1)}>decrement</button>\r\n      {dogPhotoUrl}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst render = (reactElement, container) => {\r\n  if ([\"string\", \"number\"].includes(typeof reactElement)) {\r\n    container.appendChild(document.createTextNode(String(reactElement)));\r\n    return;\r\n  }\r\n  const actualDomElement = document.createElement(reactElement.tag);\r\n  if (reactElement.props) {\r\n    Object.keys(reactElement.props)\r\n      .filter((key) => key !== \"children\")\r\n      .forEach((key) => {\r\n        actualDomElement[key] = reactElement.props[key];\r\n      });\r\n  }\r\n  if (reactElement.props.children) {\r\n    reactElement.props.children.forEach((child) => {\r\n      render(child, actualDomElement);\r\n    });\r\n  }\r\n  container.appendChild(actualDomElement);\r\n};\r\n\r\nconst rerender = () => {\r\n  stateCursor = 0;\r\n  document.getElementById(\"root\").firstChild.remove();\r\n  render(<App />, document.getElementById(\"root\"));\r\n};\r\nrender(<App />, document.getElementById(\"root\"));\r\n"],"names":[],"version":3,"file":"index.fe4db618.js.map","sourceRoot":"/__parcel_source_root/"}